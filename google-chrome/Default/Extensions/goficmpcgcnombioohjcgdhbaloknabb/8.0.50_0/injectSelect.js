!function(){if(""!=window.getSelection()){var e=function(e){for(;e.indexOf("<script")>-1;)e=e.substring(0,e.indexOf("<script"))+e.substring(e.indexOf("<\/script>")+9);for(;e.indexOf("<noscript")>-1;)e=e.substring(0,e.indexOf("<noscript"))+e.substring(e.indexOf("</noscript>")+11);for(;e.indexOf("<iframe")>-1;)e=e.substring(0,e.indexOf("<iframe"))+e.substring(e.indexOf("</iframe>")+9);var n=0;for(;e.indexOf('<div class="stream-item-footer"')>-1&&n<20;)e=e.substring(0,e.indexOf('<div class="stream-item-footer"'))+e.substring(e.indexOf('<div class="expanded-content',e.indexOf('<div class="stream-item-footer"'))),n++;return e}(function(e){rangeContainer=e.commonAncestorContainer;var n=document.createElement("div");return e.startOffset=0,n.innerHTML=function(e){var n="[^-a-z0-9:._]",t="(?:;|(?!\\d))",r={" ":"(?:\\s|&nbsp;?|&#0*32"+t+"|&#x0*20"+t+")","(":"(?:\\(|&#0*40"+t+"|&#x0*28"+t+")",")":"(?:\\)|&#0*41"+t+"|&#x0*29"+t+")",".":"(?:\\.|&#0*46"+t+"|&#x0*2e"+t+")"},o={},a=r[" "]+"*",s="(?:[^>\"']*(?:\"[^\"]*\"|'[^']*'))*?[^>]*";function l(e){var n=e.toLowerCase();if(r[e])return r[e];for(var i=e.toUpperCase(),a="",s=0;s<e.length;s++){var l=n.charAt(s);if(o[l])a+=o[l];else{var f=i.charAt(s),d=[l];d.push("&#0*"+l.charCodeAt(0)+t),d.push("&#x0*"+l.charCodeAt(0).toString(16)+t),l!=f&&(d.push("&#0*"+f.charCodeAt(0)+t),d.push("&#x0*"+f.charCodeAt(0).toString(16)+t)),d="(?:"+d.join("|")+")",a+=o[l]=d}}return r[e]=a}function f(e,n,t,r){return n+i(t)+r}var d=new RegExp(l("/"),"g"),c=new RegExp(l("."),"g");function u(e,n,t,r){return t=t.replace(d,"/").replace(c,"."),n+i(t)+r}function g(t,r,i,o,a){"string"==typeof t&&(t=new RegExp(t,"gi")),r=n+r,i="string"==typeof i?i:"\\s*=\\s*",o="string"==typeof o?o:"",a="string"==typeof a?"?)("+a:")(";var s=new RegExp("("+r+i+'")([^"'+o+"]+"+a+")","gi"),l=new RegExp("("+r+i+"')([^'"+o+"]+"+a+")","gi"),d=new RegExp("("+r+i+")([^\"'][^\\s>"+o+"]*"+a+")","gi");e=e.replace(t,function(e){return e.replace(s,f).replace(l,f).replace(d,f)})}function p(t,r,i,o,a,s){"string"==typeof t&&(t=new RegExp(t,"gi")),r=n+r,o="string"==typeof o?o:"gi";var l=new RegExp("("+r+'\\s*=\\s*")([^"]*)',"gi"),f=new RegExp("("+r+"\\s*=\\s*')([^']+)","gi"),d=new RegExp("("+i+')([^"]+)(")',o),c=new RegExp("("+i+")([^']+)(')",o);if("string"==typeof a){s="string"==typeof s?s:"";var g=new RegExp("("+i+")([^\"'][^"+a+"]*"+(s?"?)("+s+")":")()"),o),p=function(e,n,t){return n+t.replace(d,u).replace(c,u).replace(g,u)}}else var p=function(e,n,t){return n+t.replace(d,u).replace(c,u)};e=e.replace(t,function(e){return e.replace(l,p).replace(f,p)})}return p("<meta"+s+n+'http-equiv\\s*=\\s*(?:"'+l("refresh")+'"'+s+">|'"+l("refresh")+"'"+s+">|"+l("refresh")+"(?:"+l(" ")+s+">|>))","content",l("url")+a+l("=")+a,"i"),g("<"+s+n+"href\\s*="+s+">","href"),g("<"+s+n+"src\\s*="+s+">","src"),g("<object"+s+n+"data\\s*="+s+">","data"),g("<applet"+s+n+"codebase\\s*="+s+">","codebase"),g("<param"+s+n+'name\\s*=\\s*(?:"'+l("movie")+'"'+s+">|'"+l("movie")+"'"+s+">|"+l("movie")+"(?:"+l(" ")+s+">|>))","value"),g(/<style[^>]*>(?:[^"']*(?:"[^"]*"|'[^']*'))*?[^'"]*(?:<\/style|$)/gi,"url","\\s*\\(\\s*","","\\s*\\)"),p("<"+s+n+"style\\s*="+s+">","style",l("url")+a+l("(")+a,0,a+l(")"),l(")")),e}((new XMLSerializer).serializeToString(e.cloneContents())),function e(n,t){imageBack="";var i=n.childNodes,o=n.outerHTML;if(null==o&&(o=""),i.length>0)for(var a=0;a<i.length;a++)if(1==i[a].nodeType){var s=i[a].outerHTML,l=e(i[a],t);o=o.replace(s,l)}if(t)if("IMG"==n.tagName||"SCRIPT"==n.tagName)var f="";else{var d=function e(n,t){var r;if(n.innerHTML==t.innerHTML)r=t;else{if(!t.hasChildNodes())return null;for(var i=t.childNodes,o=0;o<i.length&&(1!=i[o].nodeType||null==(r=e(n,i[o]))||r.innerHTML!=n.innerHTML);o++);}return r}(n,rangeContainer);if(null!=d)var f=r(window.getComputedStyle(d,null));else if(null!=(d=function e(n,t){var r;if(t.innerHTML.indexOf(n)>-1&&t.innerHTML.indexOf(n)+n.length==t.innerHTML.length||0==t.innerHTML.indexOf(n))r=t;else{if(!(t.innerHTML.indexOf(n)>-1&&t.hasChildNodes()))return null;for(var i=t.childNodes,o=0;o<i.length&&(1!=i[o].nodeType||null==(r=e(n,i[o])));o++);}return r}(n.innerHTML,document.body)))var f=r(window.getComputedStyle(d,null));else var f=""}else if("SCRIPT"==n.tagName||"EMBED"==n.tagName)var f="";else var f=r(window.getComputedStyle(n,null));var c=o.indexOf(">"),u=o.indexOf("style");return o=u<c&&u>0?o.substr(0,u+7)+f+o.substr(u+7):o.substr(0,c)+' style="'+f+'"'+o.substr(c)}(n,!0)}(window.getSelection().getRangeAt(0))),n=function(){var e,n=document.selection,t=0,r=0;if(n)"Control"!=n.type&&(e=n.createRange(),t=e.boundingWidth,r=e.boundingHeight);else if(window.getSelection&&(n=window.getSelection()).rangeCount&&(e=n.getRangeAt(0).cloneRange()).getBoundingClientRect){var i=e.getBoundingClientRect();(t=i.right-i.left)>5e3&&(t=5e3),r=i.bottom-i.top}return{width:t,height:r}}(),t={postit:e,url:document.URL,width:n.width,height:n.height,topSelec:document.body.scrollTop,leftSelec:document.body.scrollLeft};chrome.runtime.sendMessage({creaNotaNuevaSelecWeb:t})}function r(e){for(var n="",t=0;t<e.length;t++)if(-1==e[t].indexOf("animation")&&-1==e[t].indexOf("transition")&&-1==e[t].indexOf("page")&&-1==e[t].indexOf("interpolation")&&-1==e[t].indexOf("webkit")&&-1==e[t].indexOf("speak")&&-1==e[t].indexOf("dominant")&&-1==e[t].indexOf("glyph")&&-1==e[t].indexOf("stroke")&&-1==e[t].indexOf("fill-rule")&&-1==e[t].indexOf("kerning")&&-1==e[t].indexOf("shape")&&-1==e[t].indexOf("flex")&&-1==e[t].indexOf("orphans")&&"clip-rule"!=e[t]){var r=e.getPropertyValue(e[t]);"none"!=r&&"normal"!=r&&-1==r.indexOf("auto")&&"visible"!=r&&"content-box"!=r&&"baseline"!=r&&"start"!=r&&"lr-tb"!=r&&(("stop-opacity"==e[t]||"fill-opacity"==e[t]||"zoom"==e[t]||"flood-opacity"==e[t])&&"1"==r||"min-height"==e[t]&&"0px"==r||"min-width"==e[t]&&"0px"==r||"caption-side"==e[t]&&"top"==r||"background-position"==e[t]&&"0% 0%"==r||e[t].indexOf("border")>-1&&"0px"==r||(n+=e[t]+":"+r+";"))}return n}function i(e){var n=document.createElement("a");return n.href=e,n.href}}();